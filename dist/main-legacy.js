System.register([],(function(r,t){"use strict";return{execute:function(){var r=document.createElement("style");r.textContent=".petitioner{--ptr-color-primary: #e01a2b;--ptr-color-dark: #000000;--ptr-color-grey: #efefef;--ptr-fs-sm: 14px;--ptr-fs-md: 18px;--ptr-spacing-x: 16px;--ptr-spacing-y: 16px;--ptr-wrapper-bg: white;--ptr-wrapper-radius: 16px;--ptr-input-border-width: 1px;--ptr-input-border-color: #a1a1a1;--ptr-input-border-color-active: #00000;--ptr-input-border-radius: 8px;--ptr-input-spacing-y: .7rem;--ptr-input-spacing-x: 16px;--ptr-label-font-size: var(--ptr-fs-sm);--ptr-btn-font-size: var(--ptr-fs-md);--ptr-btn-bg: var(--ptr-color-primary);--ptr-btn-bg-hover: var(--ptr-color-dark);--ptr-button-border-width: var(--ptr-input-border-width);--ptr-button-border-color: transparent;--ptr-button-border-color-active: var(--ptr-color-dark);--ptr-button-border-radius: 8px;--ptr-progress-height: 8px;--ptr-progress-bg: var(--ptr-color-grey);--ptr-progress-radius: 4px;--ptr-progress-inner-bg: var(--ptr-color-primary);padding:var(--ptr-spacing-y) var(--ptr-spacing-x);background-color:var(--ptr-wrapper-bg);border-radius:var(--ptr-wrapper-radius);box-sizing:border-box}.petitioner__input{display:flex;flex-direction:column;gap:4px;margin-bottom:8px}.petitioner__input label{font-size:var(--ptr-label-font-size)}.petitioner__input input{outline:none;border-radius:var(--ptr-input-border-radius);border-color:var(--ptr-input-border-color);border-width:var(--ptr-input-border-width);padding:var(--ptr-input-spacing-y) var(--ptr-input-spacing-x);border-style:solid;font-size:var(--ptr-label-font-size)}.petitioner__input input:focus{border-color:var(--ptr-input-border-color-active)}.petitioner__input--checkbox{flex-direction:row;flex-wrap:wrap;align-items:center;margin-top:16px;margin-bottom:16px}.petitioner__input--checkbox label{order:1;display:inline-block;width:auto}.petitioner__btn{margin-top:4px;outline:none;border-radius:var(--ptr-button-border-radius);border-color:var(--ptr-button-border-color);border-width:var(--ptr-button-border-width);padding:var(--ptr-input-spacing-y) var(--ptr-input-spacing-x);border-style:solid;width:100%;background-color:var(--ptr-color-grey);transition:.1s;margin-bottom:16px}.petitioner__btn--submit{font-size:var(--ptr-fs-md);background-color:var(--ptr-color-primary);color:#fff}.petitioner__btn--submit:hover{background-color:var(--ptr-color-dark)}.petitioner__btn--letter{font-size:var(--ptr-fs-sm);background-color:var(--ptr-color-grey);color:var(--ptr-color-dark)}.petitioner__btn--letter:hover{background-color:var(--ptr-color-dark);color:#fff}.petitioner__btn:active,.petitioner__btn:focus{border-color:var(--ptr-button-border-color-active)}.petitioner__btn:hover{cursor:pointer}.petitioner__title{padding:0;margin:0 0 16px;font-size:24px}.petitioner__goal{width:100%;display:flex;flex-wrap:wrap;margin-top:24px;margin-bottom:24px}.petitioner__goal .petitioner__num{font-size:1rem;display:block;font-weight:700}.petitioner__goal .petitioner__numlabel{font-size:14px}.petitioner__goal .petitioner__col{width:50%;display:flex;flex-direction:column}.petitioner__goal .petitioner__col--end{align-items:flex-end}@media (min-width: 768px){.petitioner__goal .petitioner__num{font-size:1.5rem}.petitioner__goal .petitioner__numlabel{font-size:16px}}.petitioner__progress{width:100%;height:var(--ptr-progress-height);display:block;background-color:var(--ptr-progress-bg);border-radius:var(--ptr-progress-radius);position:relative}.petitioner__progress-bar{flex-grow:0;border-radius:var(--ptr-progress-radius);background-color:var(--ptr-progress-inner-bg);height:100%;display:block}.petitioner__progress-bar span{position:absolute;display:block;left:0;right:0;margin:0 auto;top:calc(-100% - 8px);font-size:14px;text-align:center}.petitioner__response{display:none}.petitioner__response h3{margin:0;padding:0}.petitioner--submitted form{display:none}.petitioner--submitted .petitioner__response{display:block}.petitioner--loading form{pointer-events:none;opacity:.8;cursor:progress}.petitioner-modal{position:fixed;display:none;justify-content:center;align-items:center;left:0;top:0;width:100%;height:100%}.petitioner-modal--visible{display:flex}.petitioner-modal__backdrop{position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.petitioner-modal__close{position:absolute;right:8px;top:8px;z-index:2;background:transparent;outline:none;border:1px solid #ccc;padding:8px;border-radius:4px;line-height:1;width:24px;height:24px;display:flex;justify-content:center;align-items:center;transition:.1s}.petitioner-modal__close:hover{cursor:pointer;background:var(--ptr-color-dark);color:#fff}.petitioner-modal__close span{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.petitioner-modal hr{border:0px;height:1px;background:#ccc;margin-top:24px;margin-bottom:8px}.petitioner-modal__letter{position:relative;max-width:500px;background-color:#fff;border-radius:16px;padding:24px}.petitioner-modal__inner{max-height:40vh;overflow-y:auto}\n",document.head.appendChild(r);class t{constructor(r){this.wrapper=r,this.wrapper&&(this.responseTitle=this.wrapper.querySelector(".petitioner__response > h3"),this.responseText=this.wrapper.querySelector(".petitioner__response > p"),this.formEl=this.wrapper.querySelector("form"),this.viewLetterBTN=this.wrapper.querySelector(".petitioner__btn--letter"),this.petitionerModal=this.wrapper.querySelector(".petitioner-modal"),this.modalClose=this.wrapper.querySelector(".petitioner-modal__close"),this.backdrop=this.wrapper.querySelector(".petitioner-modal__backdrop"),this.actionPath=this.formEl?.action??"",this.formEl.addEventListener("submit",this.handleFormSubmit),this.viewLetterBTN.addEventListener("click",(()=>{this.toggleModal(!0)})),this.backdrop.addEventListener("click",(()=>{this.toggleModal(!1)})),this.modalClose.addEventListener("click",(()=>{this.toggleModal(!1)})))}showResponseMSG(r="Something went wrong",t="Please try again",e=!1){this.wrapper.classList.add("petitioner--submitted"),this.responseTitle.innerText=r,this.responseText.innerText=t}toggleModal(r=!0){this.petitionerModal.classList[r?"add":"remove"]("petitioner-modal--visible")}handleFormSubmit=r=>{r.preventDefault(),this.wrapper.classList.add("petitioner--loading");const t=new FormData(this.formEl);fetch(this.actionPath,{method:"POST",body:t,credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((r=>r.json())).then((r=>{r.success?this.showResponseMSG("Thank you!",r.data):this.showResponseMSG("Could not submit the form.",r.data),this.wrapper.classList.remove("petitioner--loading"),this.formEl.reset()})).catch((r=>{console.error("Error:",r),alert("An unexpected error occurred. Please try again later."),this.wrapper.classList.remove("petitioner--loading"),this.formEl.reset()}))}}const e=document.querySelectorAll(".petitioner");for(const o of e)new t(o)}}}));
